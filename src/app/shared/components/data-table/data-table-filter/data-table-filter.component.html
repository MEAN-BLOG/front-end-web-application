<div class="filter-container **p-4 bg-white shadow-lg rounded-xl mb-6 space-y-4**">
  <mat-form-field appearance="outline" class="search-field **w-full**" *ngIf="searchable">
    <mat-label>{{ searchLabel || 'Search' }}</mat-label>
    <input 
      matInput 
      [placeholder]="searchPlaceholder || 'Search...'"
      [formControl]="searchControl"
      (keyup.enter)="onSearch()"
      class="**w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition duration-150**">
    <mat-icon matSuffix (click)="onSearch()" class="**cursor-pointer text-gray-500 hover:text-blue-600 transition duration-150**">search</mat-icon>
  </mat-form-field>

  <div class="filter-chips **space-y-4**" *ngIf="filters?.length">
    <ng-container *ngFor="let filter of filters">
      <div class="filter-group **flex flex-wrap items-center gap-3**" *ngIf="filter.options?.length">
        <span class="filter-label **font-semibold text-gray-700 min-w-max**">{{ filter.label }}:</span>
        <mat-chip-listbox multiple class="**flex flex-wrap gap-2**">
          <mat-chip-option 
            *ngFor="let option of filter.options"
            [value]="option.value"
            [selected]="isSelected(filter.key, option.value)"
            (selectionChange)="onFilterChange(filter.key, option.value, $event.selected)"
            class="**px-3 py-1 text-sm rounded-full cursor-pointer transition duration-150 border border-gray-300 text-gray-700 hover:bg-blue-50 hover:border-blue-500**">
            {{ option.label }}
          </mat-chip-option>
        </mat-chip-listbox>
      </div>
    </ng-container>

    <div class="**pt-2 flex justify-end**">
      <button 
        mat-button 
        color="primary" 
        *ngIf="hasActiveFilters()"
        (click)="clearAllFilters()"
        class="clear-filters **flex items-center space-x-1 px-3 py-2 text-sm bg-red-500 text-white rounded-lg shadow hover:bg-red-600 transition duration-150**">
        <mat-icon>filter_alt_off</mat-icon>
        <span>Clear Filters</span>
      </button>
    </div>
  </div>
</div>