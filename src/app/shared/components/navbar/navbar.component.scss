@use '../../../../styles/variables' as *;

/* Only SCSS needed for the active link underline effect */
:host {
  /* Define Tailwind-friendly colors via CSS variables for SCSS use */
  --tw-primary: var(--color-primary); 
  --tw-accent: var(--color-accent);
}

.active {
  /* Base style for routerLinkActive: Active links */
  position: relative;
  
  /* Underline effect */
  &::after {
    content: '';
    position: absolute;
    bottom: 0;
    left: 50%;
    transform: translateX(-50%);
    width: 80%;
    height: 3px;
    border-radius: 2px;
    transition: width 0.3s ease;
  }
}

/* -------------------------------------------
   Active Link Color Logic
------------------------------------------- */

/* Default / Not Scrolled State */
.navbar:not(.scrolled) .active::after {
  background-color: white; 
}

/* Scrolled State */
.navbar.scrolled .active::after {
  background-color: var(--tw-primary); 
}

/* Mobile Menu (When mobile links are clicked, they are inside a light/dark background) */
.mobile-menu a.active::after {
  background-color: var(--tw-primary);
}

/* Dark Theme Compatibility for the underline */
:host-context(.dark-theme) {
  .navbar.scrolled .active::after {
    background-color: var(--tw-accent); /* Use accent for better contrast in dark/scrolled state */
  }
  
  /* Mobile links inside dark menu */
  .mobile-menu a.active::after {
    background-color: var(--tw-accent);
  }
}